(this["webpackJsonpreact-mealdb-finder"]=this["webpackJsonpreact-mealdb-finder"]||[]).push([[0],{25:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(19),r=n.n(s),l=(n(25),n(9)),i=n(2),o=n(11),j=n.n(o),b=n(15),u=n(12),d=n(8),h=function(e,t){switch(t.type){case"GET_MEALS":return Object(d.a)(Object(d.a)({},e),{},{meals:t.payload,loading:!1});case"GET_SINGLE_MEAL":return Object(d.a)(Object(d.a)({},e),{},{meal:t.payload,loading:!1});case"SET_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});default:return e}},m=n(0),O=Object(c.createContext)(),x={meals:[],loading:!1,meal:{}},f=function(e){var t=Object(c.useReducer)(h,x),n=Object(u.a)(t,2),a=n[0],s=n[1],r=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(),e.next=4,fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=".concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,console.log(c.meals),s({type:"GET_MEALS",payload:c.meals}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i=".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,console.log(c.meals[0]),s({type:"GET_SINGLE_MEAL",payload:c.meals[0]});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){s({type:"SET_LOADING"})};return Object(m.jsx)(O.Provider,{value:{meals:a.meals,loading:a.loading,meal:a.meal,fetchMeals:r,setLoading:i,fetchSingleMeal:l},children:e.children})},g=function(e){var t=e.meal;return console.log(t.strMeal),console.log("works"),Object(m.jsxs)(l.b,{to:"/MealFinder/meals/".concat(t.idMeal),class:"meal-item",children:[Object(m.jsx)("img",{src:t.strMealThumb}),Object(m.jsx)("div",{class:"meal-title",children:Object(m.jsx)("h3",{children:t.strMeal})})]})},p=function(e){var t=e.text;Object(c.useContext)(O).meals;return Object(m.jsx)("div",{class:"result-heading",children:Object(m.jsx)("h1",{children:t})})},v=function(){var e=Object(c.useContext)(O).meals;return console.log(e),Object(m.jsxs)(m.Fragment,{children:[e&&e.length>0&&Object(m.jsx)(p,{text:"The result found are as follows:"}),!e&&Object(m.jsx)(p,{text:"No any info matching to your request. Please, change your request..."}),Object(m.jsx)("div",{className:"meals-container",children:e&&e.length>0&&e.map((function(e){return Object(m.jsx)(g,{meal:e},e.idMeal)}))})]})},M=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(O).fetchMeals;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{children:"Meal Finder"}),Object(m.jsxs)("div",{className:"form-wrapper my-4",children:[Object(m.jsxs)("form",{id:"search-form",onSubmit:function(e){e.preventDefault(),""!==n?(s(n),a("")):alert("Please, fill in the field")},children:[Object(m.jsx)("input",{type:"text",value:n,className:"search-input",onChange:function(e){return a(e.target.value.trim())}}),Object(m.jsx)("button",{className:"search-button btn bg-dark",children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsx)("button",{className:"random-button btn bg-dark",children:Object(m.jsx)("i",{className:"fas fa-random"})})]})]})},y=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(M,{}),Object(m.jsx)(v,{})]})},k=function(e){var t=Object(c.useContext)(O),n=t.fetchSingleMeal,a=t.meal,s=Object(i.f)("id").id;Object(c.useEffect)((function(){n(s)}),[]);for(var r=[],o=1;o<=20;o++)a["strIngredient".concat(o)]&&r.push("".concat(a["strIngredient".concat(o)]," - ").concat(a["strMeasure".concat(o)]));return console.log(r),Object(m.jsxs)("div",{class:"single-meal my-4",children:[Object(m.jsx)(l.b,{to:"/MealFinder",className:"back btn btn-circle bg-dark inline-block my-4",children:"\u041d\u0430\u0437\u0430\u0434 \u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(m.jsx)("br",{}),Object(m.jsx)("img",{src:a.strMealThumb}),Object(m.jsx)("h1",{children:a.strMeal}),Object(m.jsxs)("div",{class:"meal-category",children:[!!a.strArea&&Object(m.jsx)("p",{class:"btn btn-circle bg-dark inline-block",children:a.strArea}),!!a.strCategory&&Object(m.jsx)("p",{class:"btn btn-circle bg-blue inline-block",children:a.strCategory})]}),Object(m.jsxs)("div",{class:"meal-instructions",children:[Object(m.jsx)("p",{children:a.strInstructions}),Object(m.jsx)("h2",{children:"Main ingredients:"}),Object(m.jsx)("ul",{class:"meal-ingredients",children:r.map((function(e){return Object(m.jsx)("li",{className:"meal-ingredients__item btn btn-circle bg-light inline-block",children:e})}))})]})]})},w=function(){return Object(m.jsx)(f,{children:Object(m.jsx)(l.a,{children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)(i.c,{children:[Object(m.jsx)(i.a,{exact:!0,path:"/MealFinder",component:y}),Object(m.jsx)(i.a,{path:"/MealFinder/meals/:id",component:k})]})})})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),N()}},[[33,1,2]]]);
//# sourceMappingURL=main.5fb58d09.chunk.js.map